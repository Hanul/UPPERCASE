global=window;global.TO_DELETE=null,global.CONFIG={isDevMode:!1},global.METHOD=function(t){"use strict";var e,n,o=function(t,e){return void 0!==n?n(t,e):void 0};return o.type=METHOD,e="function"==typeof t?t(o):t,void 0!==e&&(n=e.run),o},global.CLASS=METHOD(function(t){"use strict";var e,n=0;return t.getInstanceId=e=function(){return n+=1,n-1},{run:function(t){var n,o,i,r,a,u,s,c=function(t,n){var o={},i={};return i.type=c,i.checkIsInstanceOf=function(t){for(var e=c;void 0!==e;){if(e===t)return!0;e=e.mom}return!1},i.id=e(),t=u(o,i,t,n),s(o,i,t,n),i};return c.type=CLASS,c.innerInit=u=function(t,e,n,a){var u,s,d,l=function(t,e){EACH(e,function(e,n){void 0===t[n]?t[n]=e:CHECK_IS_DATA(t[n])===!0&&CHECK_IS_DATA(e)===!0&&l(t[n],e)})};return void 0!==r&&(void 0===n?n=r(c):CHECK_IS_DATA(n)===!0?(s=r(c),void 0!==s&&l(n,s)):(d=n,n=r(c))),void 0!==o&&(u=o(n,a),void 0!==u&&(c.mom=u,u.type===CLASS?u.innerInit(t,e,n,a):u.type.innerInit(t,e,n,a))),void 0!==i&&i(t,e,void 0===d?n:d,a),n},n="function"==typeof t?t(c):t,void 0!==n&&(o=n.preset,i=n.init,r=n.params,a=n.afterInit),c.innerAfterInit=s=function(t,e,n,o){var i=c.mom;void 0!==i&&(i.type===CLASS?i.innerAfterInit(t,e,n,o):i.type.innerAfterInit(t,e,n,o)),void 0!==a&&a(t,e,n,o)},c}}}),global.OBJECT=METHOD(function(t){"use strict";var e,n,o,i,r=[],a=!1;return e=function(t){var e=t.type,n={},o={};t.id=CLASS.getInstanceId(),e.innerInit(n,t,o),e.innerAfterInit(n,t,o)},n=function(t){a===!0?e(t):r.push(t)},t.removeReadyObject=o=function(t){REMOVE({array:r,value:t})},t.initObjects=i=function(){EACH(r,function(t){e(t)}),a=!0},{run:function(t){var e=CLASS(t),o={};return o.type=e,o.checkIsInstanceOf=function(t){for(var n=e;void 0!==n;){if(n===t)return!0;n=n.mom}return!1},n(o),o}}}),global.INIT_OBJECTS=METHOD({run:function(){"use strict";OBJECT.initObjects()}}),global.BOX=METHOD(function(t){"use strict";var e,n={};return t.getBoxes=e=function(){return n},{run:function(t){var e=function(t){var n,o=t.split(".");return EACH(o,function(t){void 0===n?(void 0===e[t]&&(e[t]={}),n=e[t]):(void 0===n[t]&&(n[t]={}),n=n[t])}),n},o=t.split("."),i=global,r="";return e.boxName=t,e.type=BOX,n[t]=e,EACH(o,function(t,n){r+=(""===r?"":".")+t,n<o.length-1?i=void 0!==i[t]?i[t]:i[t]={}:i[t]=e}),FOR_BOX.inject(e),e}}}),global.FOR_BOX=METHOD(function(t){"use strict";var e,n=[];return t.inject=e=function(t){EACH(n,function(e){e(t)})},{run:function(t){EACH(BOX.getBoxes(),function(e){t(e)}),n.push(t)}}}),global.NEXT=METHOD({run:function(t,e){"use strict";var n,o,i;void 0===e&&(e=t,t=void 0),void 0!==t&&(CHECK_IS_ARRAY(t)!==!0?n=t:o=t),REPEAT({start:e.length-1,end:0},function(t){var r;0!==t&&void 0===i?i=e[t]():t>0?(r=i,i=e[t](r),i.next=r):(r=i,void 0===r&&(r=function(){}),i=e[t],void 0!==n?RUN(function(){var t=-1;RUN(function(e){t+=1,n>t+1?i(t,e):i(t,r)})}):void 0!==o?RUN(function(){var t=o.length,e=-1;0===t?r():RUN(function(n){e+=1,t>e+1?(o.length===t-1&&(e-=1,t-=1),i(o[e],n,e)):i(o[e],r,e)})}):i(r))})}}),global.OVERRIDE=METHOD({run:function(t,e){"use strict";void 0!==t.type&&t.type.type===CLASS&&OBJECT.removeReadyObject(t),e(t)}}),global.PARALLEL=METHOD({run:function(t,e){"use strict";var n,o,i=0;void 0===e&&(e=t,t=void 0),void 0!==t&&(CHECK_IS_ARRAY(t)!==!0?n=t:o=t),void 0!==n?0===n?e[1]():REPEAT(n,function(t){e[0](t,function(){i+=1,i===n&&e[1]()})}):void 0!==o?0===o.length?e[1]():EACH(o,function(t,n){e[0](t,function(){i+=1,i===o.length&&e[1]()},n)}):RUN(function(){var t=e.length-1;EACH(e,function(n,o){t>o&&n(function(){i+=1,i===t&&e[t]()})})})}}),global.PARSE_STR=METHOD({run:function(t){"use strict";var e;try{return e=JSON.parse(t),CHECK_IS_DATA(e)===!0?UNPACK_DATA(e):e}catch(n){return void 0}}}),global.RANDOM_STR=METHOD({run:function(t){"use strict";var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return REPEAT(t,function(){e+=n.charAt(RANDOM({limit:n.length}))}),e}}),global.STRINGIFY=METHOD({run:function(t){"use strict";return JSON.stringify(CHECK_IS_DATA(t)===!0?PACK_DATA(t):t)}}),global.TEST=METHOD(function(){"use strict";var t=0;return{run:function(e,n){n(function(n){var o,i={};n===!0?console.log("["+e+" TEST] SUCCESS! "+t+" error(s) founded."):(i.__THROW_ERROR_$$$=function(){try{throw Error()}catch(t){return t}},o=i.__THROW_ERROR_$$$().stack,void 0!==o&&(o=o.substring(o.indexOf("__THROW_ERROR_$$$")),o=o.split("\n")[2],o=o.substring(o.indexOf("at "))),t+=1,console.log("["+e+" TEST] ERROR! "+o+" "+t+" error(s) founded."))})}}}),global.URI_MATCHER=CLASS({init:function(t,e,n){"use strict";var o,i=CLASS({init:function(t,e,o){var i,r,a,u=o.split("/"),s={},c=function(t){var e=t.split("/");return EACH(u,function(t,n){var o=e[n];if("**"===o)return i=!0,!1;if(void 0===o)return!1;if(""!==t&&"{"===o.charAt(0)&&"}"===o.charAt(o.length-1))s[o.substring(1,o.length-1)]=t;else if("*"!==o&&o!==t)return!1;return n===u.length-1&&n<e.length-1&&""!==e[e.length-1]?!1:void 0})===!0||i===!0};i=CHECK_IS_ARRAY(n)===!0?EACH(n,function(t){return c(t)!==!0})!==!0:c(n),e.checkIsMatched=r=function(){return i},e.getURIParams=a=function(){return s}}});e.check=o=function(t){return i(t)}}}),global.VALID=CLASS(function(t){"use strict";var e,n,o,i,r,a,u,s,c,d,l,f,g,E,v,h,m,p,A,T,S;return t.notEmpty=e=function(t){var e=void 0===t||t===TO_DELETE?"":String(t);return CHECK_IS_ARRAY(t)===!0||""!==e.trim()},t.regex=n=function(t){var e=t.pattern,n=String(t.value);return n===n.match(e)[0]},t.size=o=function(t){var e=t.min,n=t.max,o=String(t.value),i=o.length;return void 0===e&&(e=0),i>=e&&(void 0===n||n>=i)},t.integer=i=function(t){var n=String(t);return e(n)===!0&&n.match(/^(?:-?(?:0|[1-9][0-9]*))$/)!==TO_DELETE},t.real=r=function(t){var n=String(t);return e(n)===!0&&n.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)!==TO_DELETE},t.bool=a=function(t){var e=String(t);return"true"===e||"false"===e},t.date=u=function(t){var e=String(t),n=Date.parse(e);return isNaN(n)===!1},t.min=s=function(t){var e=t.min,n=t.value;return r(n)===!0&&n>=e},t.max=c=function(t){var e=t.max,n=t.value;return r(n)===!0&&e>=n},t.email=d=function(t){return"string"==typeof t&&e(t)===!0&&t.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)!==TO_DELETE},t.png=l=function(t){return"string"==typeof t&&e(t)===!0&&t.match(/^data:image\/png;base64,/)!==TO_DELETE},t.url=f=function(t){return"string"==typeof t&&e(t)===!0&&t.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i)!==TO_DELETE&&t.length<=2083},t.username=g=function(t){return"string"==typeof t&&e(t)===!0&&t.match(/^[_a-zA-Z0-9\-]+$/)!==TO_DELETE},t.id=E=function(t){return"string"==typeof t&&e(t)===!0&&t.match(/[0-9a-f]{24}/)!==TO_DELETE&&24===t.length},t.one=v=function(t){var e=t.array,n=t.value;return EACH(e,function(t){return n===t?!1:void 0})===!1},t.array=h=function(t){return CHECK_IS_ARRAY(t)===!0},t.data=m=function(t){return CHECK_IS_DATA(t)===!0},t.element=p=function(t){var e=t.array,n=VALID({_:t.validData});return EACH(e,function(t){return n.check({_:t}).checkHasError()===!0?!1:void 0})===!0},t.property=A=function(t){var e=t.data,n=VALID({_:t.validData});return EACH(e,function(t){return n.check({_:t}).checkHasError()===!0?!1:void 0})===!0},t.detail=T=function(t){var e=t.data,n=VALID(t.validDataSet);return n.check(e).checkHasError()!==!0},t.equal=S=function(t){var e=t.value,n=String(e),o=t.validValue,i=String(o);return n===i},{init:function(n,o,i){var r,a,u,s=CLASS({init:function(n,o,r){var a,u,s=r.data,c=r.isForUpdate,d=!1,l={};EACH(i,function(n,o){n!==!0&&EACH(n,function(n,i){var r=s[o];if(c===!0&&void 0===r)return!1;if("notEmpty"!==i&&e(r)!==!0)return s[o]=c===!0?TO_DELETE:void 0,!0;if("one"===i){if(v({array:n,value:r})===!1)return d=!0,l[o]={type:i,array:n,value:r},!1}else if("element"===i){if(p({validData:n,array:r})===!1)return d=!0,l[o]={type:i,validData:n,array:r},!1}else if("property"===i){if(A({validData:n,data:r})===!1)return d=!0,l[o]={type:i,validData:n,data:r},!1}else if("detail"===i){if(T({validDataSet:n,data:r})===!1)return d=!0,l[o]={type:i,validDataSet:n,data:r},!1}else if("size"===i){if(t[i](COMBINE(CHECK_IS_DATA(n)===!0?[n,{value:r}]:[{min:n,max:n},{value:r}]))===!1)return d=!0,l[o]={type:i,validParams:n,value:r},!1}else if("regex"===i){if(t[i]({pattern:n,value:r})===!1)return d=!0,l[o]={type:i,validParam:n,value:r},!1}else if("min"===i){if(t[i]({min:n,value:r})===!1)return d=!0,l[o]={type:i,validParam:n,value:r},!1}else if("max"===i){if(t[i]({max:n,value:r})===!1)return d=!0,l[o]={type:i,validParam:n,value:r},!1}else if("equal"===i){if(t[i]({value:r,validValue:n})===!1)return d=!0,l[o]={type:i,validParam:n,value:r},!1}else if(n===!0&&t[i](r)===!1)return d=!0,l[o]={type:i,value:r},!1;e(r)===!0&&"string"==typeof r&&("integer"===i?s[o]=INTEGER(r):"real"===i?s[o]=REAL(r):"bool"===i?s[o]="true"===r:"date"===i?s[o]=new Date(r):"username"===i&&(s[o]=r.toLowerCase()))})}),EACH(s,function(t,e){void 0===i[e]&&delete s[e]}),o.checkHasError=a=function(){return d},o.getErrors=u=function(){return l}}});o.check=r=function(t){return s({data:t})},o.checkForUpdate=a=function(t){return s({data:t,isForUpdate:!0})},o.getValidDataSet=u=function(){return i}}}}),global.CHECK_IS_ARGUMENTS=METHOD({run:function(t){"use strict";return void 0!==t&&t!==TO_DELETE&&"object"==typeof t&&("[object Arguments]"===Object.prototype.toString.call(t)||void 0!==t.callee&&"function"==typeof t.callee)?!0:!1}}),global.CHECK_ARE_SAME=METHOD({run:function(t){"use strict";var e=!1,n=function(t,e){return t instanceof Date==!0&&e instanceof Date==!0?t.getTime()===e.getTime():t instanceof RegExp==!0&&e instanceof RegExp==!0?t.toString()===e.toString():CHECK_IS_DATA(t)===!0&&CHECK_IS_DATA(e)===!0?EACH(t,function(t,o){return n(t,e[o])}):CHECK_IS_ARRAY(t)===!0&&CHECK_IS_ARRAY(e)===!0?EACH(t,function(t,o){return n(t,e[o])}):t===e};return t.length>1&&(e=REPEAT(t.length,function(e){return e<t.length-1?n(t[e],t[e+1]):n(t[e],t[0])})),e}}),global.CHECK_IS_ARRAY=METHOD({run:function(t){"use strict";return void 0!==t&&t!==TO_DELETE&&"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)?!0:!1}}),global.CHECK_IS_DATA=METHOD({run:function(t){"use strict";return void 0!==t&&t!==TO_DELETE&&CHECK_IS_ARGUMENTS(t)!==!0&&CHECK_IS_ARRAY(t)!==!0&&t instanceof Date!=!0&&t instanceof RegExp!=!0&&"object"==typeof t?!0:!1}}),global.CHECK_IS_EMPTY_DATA=METHOD({run:function(t){"use strict";return CHECK_ARE_SAME([t,{}])}}),global.COUNT_PROPERTIES=METHOD({run:function(t){"use strict";var e=0;return EACH(t,function(){e+=1}),e}}),global.PACK_DATA=METHOD({run:function(t){"use strict";var e=COPY(t),n=[],o=[];return EACH(e,function(t,i){t instanceof Date==!0?(e[i]=INTEGER(t.getTime()),n.push(i)):t instanceof RegExp==!0?(e[i]=t.toString(),o.push(i)):CHECK_IS_DATA(t)===!0?e[i]=PACK_DATA(t):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(e,n){CHECK_IS_DATA(e)===!0&&(t[n]=PACK_DATA(e))})}),e.__DATE_ATTR_NAMES=n,e.__REGEX_ATTR_NAMES=o,e}}),global.UNPACK_DATA=METHOD({run:function(t){"use strict";var e=COPY(t);return void 0!==e.__DATE_ATTR_NAMES&&(EACH(e.__DATE_ATTR_NAMES,function(t){e[t]=new Date(e[t])}),delete e.__DATE_ATTR_NAMES),void 0!==e.__REGEX_ATTR_NAMES&&(EACH(e.__REGEX_ATTR_NAMES,function(t){var n,o,i=e[t];for(o=i.length-1;o>=0;o-=1)if("/"===i[o]){n=i.substring(o+1),i=i.substring(1,o);break}e[t]=new RegExp(i,n)}),delete e.__REGEX_ATTR_NAMES),EACH(e,function(t,n){CHECK_IS_DATA(t)===!0?e[n]=UNPACK_DATA(t):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(e,n){CHECK_IS_DATA(e)===!0&&(t[n]=UNPACK_DATA(e))})}),e}}),global.CHECK_IS_IN=METHOD({run:function(t){"use strict";var e=t.data,n=t.array,o=t.value;return void 0!==e?EACH(e,function(t){return CHECK_ARE_SAME([t,o])===!0?!1:void 0})!==!0:void 0!==n?EACH(n,function(t){return CHECK_ARE_SAME([t,o])===!0?!1:void 0})!==!0:void 0}}),global.COMBINE=METHOD({run:function(t){"use strict";var e,n;return t.length>0&&(e=t[0],CHECK_IS_DATA(e)===!0?(n={},EACH(t,function(t){EXTEND({origin:n,extend:t})})):CHECK_IS_ARRAY(e)===!0&&(n=[],EACH(t,function(t){EXTEND({origin:n,extend:t})}))),n}}),global.COPY=METHOD({run:function(t){"use strict";var e;return CHECK_IS_DATA(t)===!0?(e={},EXTEND({origin:e,extend:t})):CHECK_IS_ARRAY(t)===!0&&(e=[],EXTEND({origin:e,extend:t})),e}}),global.EXTEND=METHOD({run:function(t){"use strict";var e=t.origin,n=t.extend;return CHECK_IS_DATA(e)===!0?EACH(n,function(t,n){var o,i,r;if(t instanceof Date==!0)e[n]=new Date(t.getTime());else if(t instanceof RegExp==!0){for(o=t.toString(),r=o.length-1;r>=0;r-=1)if("/"===o[r]){i=o.substring(r+1),o=o.substring(1,r);break}e[n]=new RegExp(o,i)}else e[n]=CHECK_IS_DATA(t)===!0||CHECK_IS_ARRAY(t)===!0?COPY(t):t}):CHECK_IS_ARRAY(e)===!0&&EACH(n,function(t){var n,o,i;if(t instanceof Date==!0)e.push(new Date(t.getTime()));else if(t instanceof RegExp==!0){for(n=t.toString(),i=n.length-1;i>=0;i-=1)if("/"===n[i]){o=n.substring(i+1),n=n.substring(1,i);break}e.push(new RegExp(n,o))}else e.push(CHECK_IS_DATA(t)===!0||CHECK_IS_ARRAY(t)===!0?COPY(t):t)}),e}}),global.FIND=METHOD({run:function(t,e){"use strict";var n,o,i,r;return void 0!==e?CHECK_IS_DATA(t)===!0?EACH(t,function(t){return e(t)===!0?(r=t,!1):void 0}):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(t){return e(t)===!0?(r=t,!1):void 0}):(n=t.data,o=t.array,i=t.value,void 0!==n&&EACH(n,function(t,e){return t===i?(r=e,!1):void 0}),void 0!==o&&EACH(o,function(t,e){return t===i?(r=e,!1):void 0})),r}}),global.REMOVE=METHOD({run:function(t,e){"use strict";var n,o,i,r,a;void 0!==e?CHECK_IS_DATA(t)===!0?EACH(t,function(n,o){e(n)===!0&&REMOVE({data:t,name:o})}):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(n,o){e(n)===!0&&REMOVE({array:t,key:o})}):(n=t.data,o=t.array,i=t.name,r=t.key,a=t.value,void 0!==i&&delete n[i],void 0!==r&&o.splice(r,1),void 0!==a&&(void 0!==n&&EACH(n,function(t,e){CHECK_ARE_SAME([t,a])===!0&&REMOVE({data:n,name:e})}),void 0!==o&&EACH(o,function(t,e){CHECK_ARE_SAME([t,a])===!0&&REMOVE({array:o,key:e})})))}}),global.CALENDAR=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,s,c;void 0===n&&(n=new Date),e.getYear=o=function(){return n.getFullYear()},e.getMonth=i=function(t){var e=n.getMonth()+1;return t===!0?10>e?"0"+e:""+e:e},e.getDate=r=function(t){var e=n.getDate();return t===!0?10>e?"0"+e:""+e:e},e.getDay=a=function(){return n.getDay()},e.getHour=u=function(t){var e=n.getHours();return t===!0?10>e?"0"+e:""+e:e},e.getMinute=s=function(t){var e=n.getMinutes();return t===!0?10>e?"0"+e:""+e:e},e.getSecond=c=function(t){var e=n.getSeconds();return t===!0?10>e?"0"+e:""+e:e}}}),global.CREATE_DATE=METHOD({run:function(t){"use strict";var e=t.year,n=t.month,o=t.date,i=t.hour,r=t.minute,a=t.second,u=CALENDAR(new Date);return void 0===e&&(e=u.getYear()),void 0===n&&(n=void 0===o?0:u.getMonth()),void 0===o&&(o=void 0===i?0:u.getDate()),void 0===i&&(i=void 0===r?0:u.getHour()),void 0===r&&(r=void 0===a?0:u.getMinute()),void 0===a&&(a=0),new Date(e,n-1,o,i,r,a)}}),global.DELAY=CLASS({init:function(t,e,n,o){"use strict";var i,r;void 0===o&&(o=n,n=0),i=setTimeout(function(){o(e)},1e3*n),e.remove=r=function(){clearTimeout(i)}}}),global.INTERVAL=CLASS({init:function(t,e,n,o){"use strict";var i,r;void 0===o&&(o=n,n=0),i=setInterval(function(){o(e)===!1&&r()},0===n?1:1e3*n),e.remove=r=function(){clearInterval(i)}}}),global.LOOP=CLASS(function(){"use strict";var t,e,n=[],o=[],i=function(){void 0===e&&(t=Date.now(),e=INTERVAL(function(){var e,i,r,a,u,s=Date.now(),c=s-t;if(c>0){for(a=0;a<n.length;a+=1)if(e=n[a],void 0!==e.fps&&e.fps>0){for(void 0===e.timeSigma&&(e.timeSigma=0,e.countSigma=0),i=parseInt(e.fps/(1e3/c)*(e.timeSigma/c+1),10)-e.countSigma,void 0!==e.start&&e.start(),r=e.interval,u=0;i>u;u+=1)r();void 0!==e.end&&e.end(c),e.countSigma+=i,e.timeSigma+=c,e.timeSigma>1e3&&(e.timeSigma=void 0)}for(a=0;a<o.length;a+=1)o[a](c);t=s}}))},r=function(){n.length<=0&&o.length<=0&&(e.remove(),e=void 0)};return{init:function(t,e,a,u){var s,c,d,l,f,g,E;void 0!==u?(CHECK_IS_DATA(u)!==!0?d=u:(c=u.start,d=u.interval,l=u.end),n.push(f={fps:a,start:c,interval:d,end:l}),e.changeFPS=g=function(t){f.fps=t},e.remove=E=function(){REMOVE({array:n,value:f}),r()}):(o.push(s=a),e.remove=E=function(){REMOVE({array:o,value:s}),r()}),i()}}}),global.RAR=METHOD({run:function(t,e){"use strict";return void 0===e&&(e=t,t=void 0),e(t),e}}),global.RUN=METHOD({run:function(t){"use strict";var e=function(){return t(e)};return e()}}),global.INTEGER=METHOD({run:function(t){"use strict";return void 0===t?void 0:parseInt(t,10)}}),global.RANDOM=METHOD({run:function(t){"use strict";var e,n,o;return CHECK_IS_DATA(t)!==!0?o=t:(e=t.min,n=t.max,o=t.limit),void 0===e&&(e=0),void 0!==o&&(n=o-1),Math.floor(Math.random()*(n-e+1)+e)}}),global.REAL=METHOD({run:function(t){"use strict";return void 0===t?void 0:parseFloat(t)}}),global.EACH=METHOD({run:function(t,e){"use strict";var n,o,i;if(void 0===t)return!1;if(CHECK_IS_DATA(t)===!0){for(o in t)if(t.hasOwnProperty(o)===!0&&e(t[o],o)===!1)return!1}else{if(void 0===e)return e=t,t=void 0,function(t){return EACH(t,e)};for(n=t.length,i=0;n>i;i+=1){if(e(t[i],i)===!1)return!1;t.length<n?(i-=n-t.length,n-=n-t.length):t.length>n&&(n+=t.length-n)}}return!0}}),global.REPEAT=METHOD({run:function(t,e){"use strict";var n,o,i,r,a,u;if(void 0===e&&(e=t,t=void 0),void 0!==t&&(CHECK_IS_DATA(t)!==!0?n=t:(o=t.start,i=t.end,r=t.limit,a=t.step)),void 0===r&&void 0!==i&&(r=i+1),void 0===a&&(a=1),void 0!==n){for(u=0;u<parseInt(n,10);u+=1)if(e(u)===!1)return!1}else if(void 0!==i&&o>i){for(u=o;u>=i;u-=a)if(e(u)===!1)return!1}else{if(void 0===r)return function(t){return REPEAT(t,e)};for(u=o;r>u;u+=a)if(e(u)===!1)return!1}return!0}}),global.REVERSE_EACH=METHOD({run:function(t,e){"use strict";var n,o;if(void 0===t)return!1;if(void 0===e)return e=t,t=void 0,function(t){return REVERSE_EACH(t,e)};for(n=t.length,o=n-1;o>=0;o-=1){if(e(t[o],o)===!1)return!1;t.length<n&&(o+=n-t.length)}return!0}}),global.BROWSER_CONFIG={host:location.hostname,port:""===location.port?"https:"===location.protocol?443:80:INTEGER(location.port),isSecure:"https:"===location.protocol,isSupportingX2:!1,isUsingFlashCanvasPro:!1},global.COOKIE_STORE=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,s,c;CHECK_IS_DATA(n)!==!0?o=n:(o=n.storeName,i=n.domain),t.genFullName=r=function(t){return o+"."+t},e.save=a=function(t){var e,n=t.name,o=t.value,a=t.isToSession;a===!0?e=0:(e=new Date,e.setDate(e.getDate()+356)),document.cookie=r(n)+"="+encodeURIComponent(JSON.stringify(o))+"; expires="+(0===e?e:e.toGMTString())+"; path=/;"+(void 0===i?"":" domain="+i+";")},e.get=u=function(t){var e,n,o,i,a=document.cookie;return t=r(t)+"=",n=a.indexOf(t),a&&n>=0&&(o=a.substring(n,a.length),i=o.indexOf(";"),e=i>0?o.substring(t.length,i):o.substring(t.length)),void 0===e?void 0:JSON.parse(decodeURIComponent(e))},e.list=s=function(){var t,e={};return EACH(document.cookie.split(";"),function(n){var i=n.indexOf("="),r=n.substring(0,i);r.substring(0,o.length+1)===o+"."&&(t=r.substring(o.length+1),e[t]=n.substring(i+1))}),e},e.remove=c=function(t){var e;e=new Date,e.setDate(e.getDate()-1),document.cookie=r(t)+"=; expires="+e.toGMTString()+"; path=/;"+(void 0===i?"":" domain="+i+";")}}}),FOR_BOX(function(t){"use strict";t.COOKIE_STORE=CLASS({init:function(e,n,o){var i,r,a,u,s,c;CHECK_IS_DATA(o)!==!0?i=o:(i=o.storeName,r=o.domain),a=COOKIE_STORE({storeName:t.boxName+"."+i,domain:r}),n.save=u=a.save,n.get=s=a.get,n.remove=c=a.remove}})}),global.INFO=OBJECT({init:function(t,e){"use strict";var n,o,i,r,a,u=void 0!==global.ontouchstart;e.getLang=function(){var t=STORE("__INFO").get("lang");return void 0===t&&(t=navigator.language,t.length>2&&(t=t.substring(0,2)),t=t.toLowerCase()),t},e.changeLang=n=function(t){STORE("__INFO").save({name:"lang",value:t}),location.reload()},e.checkIsHDDisplay=o=function(){return void 0!==global.devicePixelRatio&&devicePixelRatio>1?!0:!1},e.checkIsTouchMode=i=function(){return u},e.checkIsExistsTapDelay=r=function(){return!1},e.getBrowserInfo=a=function(){return{name:bowser.name,version:REAL(bowser.version)}},EVENT_LOW("mousemove",function(){u=!1}),EVENT_LOW("touchstart",function(){u=!0})}}),global.LOAD=METHOD({run:function(t,e){"use strict";var n,o,i,r,a,u,s,c,d,l,f,g;CHECK_IS_DATA(t)!==!0?n=t:(n=t.url,void 0===n&&(i=void 0===t.host?BROWSER_CONFIG.host:t.host,r=void 0===t.port?BROWSER_CONFIG.port:t.port,a=t.isSecure,u=t.uri,s=t.paramStr,n=(a===!0?"https://":"http://")+i+":"+r+"/"+u+"?"+s),o=t.isNoCache),void 0!==e&&(c=e.error),READY.readyLoad(),l=document.getElementsByTagName("script"),d=l[l.length-1],f=document.createElement("script"),f.src=(-1===n.indexOf("?")?n+"?":n+"&")+(o!==!0&&void 0!==CONFIG.version?"version="+CONFIG.version:(new Date).getTime()),f.onload=function(){g!==!0&&(g=!0,READY.loaded())},f.onreadystatechange=function(){var t=this.readyState;g===!0||"loaded"!==t&&"complete"!==t||(g=!0,DELAY(function(){READY.loaded()}))};try{f.onerror=c}catch(E){}return DOM({el:f}).insertAfter(DOM({el:d}))}}),global.META_DESCRIPTION=METHOD(function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return{run:function(e){"use strict";var n,o,i,r=!1;if(void 0===e)for(e="",n=document.getElementsByTagName("meta"),o=0;o<n.length;o+=1)"description"===n[o].name.toLowerCase()&&(e=n[o].content);else{for(e=e.replace(/[&<>"']/g,function(e){return t[e]}),n=document.getElementsByTagName("meta"),o=0;o<n.length;o+=1)"description"===n[o].name.toLowerCase()&&(n[o].content=e,r=!0);r!==!0&&(i=document.createElement("meta"),i.name="description",i.content=e,document.getElementsByTagName("head")[0].appendChild(i))}return e}}}),global.READY=METHOD(function(t){"use strict";var e,n,o,i=0,r=[];return t.readyLoad=n=function(){i+=1},t.loaded=o=function(){i-=1,e===!0&&0===i&&(EACH(r,function(t){t()}),r=[])},global.onload=function(){e=!0,0===i&&(EACH(r,function(t){t()}),r=[])},{run:function(t){i>0||e!==!0?r.push(t):t()}}}),global.SOUND=CLASS(function(){"use strict";var t;return{init:function(e,n,o){var i,r,a,u,s,c,d=o.mp3,l=o.ogg,f=o.isLoop,g=new Audio;""===g.canPlayType("audio/mpeg;")&&g.canPlayType("audio/ogg;")&&(d=l),void 0===t&&void 0!==global.AudioContext&&(t=new AudioContext),void 0!==t?(i=new XMLHttpRequest,i.open("GET",d,!0),i.responseType="arraybuffer",i.onload=function(){t.decodeAudioData(i.response,function(e){var n=t.createGain?t.createGain():t.createGainNode();r=e,n.connect(t.destination),n.gain.value=.5,void 0!==u&&u()})},i.send(),n.play=s=function(){return u=function(){a=t.createBufferSource(),a.buffer=r,a.connect(t.destination),a.loop=f,void 0!==a.noteOn?a.noteOn(0):a.start(0),u=void 0},void 0!==r&&u(),n},n.stop=c=function(){void 0!==a&&(void 0!==a.noteOff?a.noteOff(0):a.stop(0))}):(g.src=d,f===!0&&g.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),n.play=s=function(){return g.play(),n},n.stop=c=function(){g.pause()})}}}),global.STORE=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u;t.genFullName=o=function(t){return n+"."+t},e.save=i=function(t){var e=t.name,n=o(e),i=t.value,r=t.isToSession;sessionStorage.setItem(n,STRINGIFY(i)),r!==!0&&localStorage.setItem(n,STRINGIFY(i))},e.get=r=function(t){var e=o(t),n=PARSE_STR(sessionStorage.getItem(e));return(void 0===n||n===TO_DELETE)&&(n=PARSE_STR(localStorage.getItem(e)),n===TO_DELETE&&(n=void 0)),n},e.list=a=function(){var t,e,o,i={};for(o=0;o<sessionStorage.length;o+=1)t=sessionStorage.key(o),t.substring(0,n.length+1)===n+"."&&(e=t.substring(n.length+1),i[e]=r(e));for(o=0;o<localStorage.length;o+=1)t=localStorage.key(o),t.substring(0,n.length+1)===n+"."&&(e=t.substring(n.length+1),i[e]=r(e));return i},e.remove=u=function(t){var e=o(t);sessionStorage.removeItem(e),localStorage.removeItem(e)}}}),FOR_BOX(function(t){"use strict";t.STORE=CLASS({init:function(e,n,o){var i,r,a,u=STORE(t.boxName+"."+o);n.save=i=u.save,n.get=r=u.get,n.remove=a=u.remove}})}),global.CLEAR_BOTH=METHOD({run:function(){"use strict";return DIV({style:{clear:"both"}})}}),global.DOM=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a=n.tag,u=n.__TEXT,s=n.el;void 0!==a?s="body"===a?document.body:"__STRING"===a?document.createTextNode(u):document.createElement(a):s!==document.body&&s.parentNode!==TO_DELETE&&e.setParent(DOM({el:s.parentNode})),e.getEl=o=function(){return s},t.setEl=i=function(n){s=n,t.setDom(e)},i(s),t.setAttr=r=function(t){var e=t.name,n=t.value;s.setAttribute(e,n)}}}),global.NODE=CLASS({init:function(t,e){"use strict";var n,o,i,r,a,u,s,c,d,l,f,g,E,v,h,m,p,A,T,S,C,I,_,D,O,y,R,b,N,H,M,L,F,w,P,x,B,k,G,V,X,K,W,U,Y,z,j=[];t.setWrapperDom=l=function(t){n=t,i=t.getEl(),c=w("display"),M("show",function(){EACH(j,function(t){t.checkIsShowing()===!0&&(EVENT.fireAll({node:t,name:"show"}),EVENT.removeAll({node:t,name:"show"}))})})},t.setContentDom=f=function(t){o=t,r=t.getEl()},t.setDom=g=function(t){l(t),f(t)},e.getWrapperDom=E=function(){return n},e.getContentDom=v=function(){return o},e.getWrapperEl=h=function(){return i},e.getContentEl=m=function(){return r},p=function(t,n){b(t),void 0===n?s.getChildren().push(e):s.getChildren().splice(n,0,e),EVENT.fireAll({node:e,name:"attach"}),W()===!0&&(EVENT.fireAll({node:e,name:"show"}),EVENT.removeAll({node:e,name:"show"})),void 0!==a&&EACH(a,function(t){I(t)}),void 0!==u&&EACH(u,function(t){D(t)})},e.append=A=function(t){var n;CHECK_IS_DATA(t)===!0?t.appendTo(e):e.type===TEXTAREA?A(DOM({tag:"__STRING",__TEXT:String(void 0===t?"":t)})):(n=String(void 0===t?"":t).split("\n"),EACH(n,function(t,e){A(DOM({tag:"__STRING",__TEXT:t})),e<n.length-1&&A(BR())}))},e.appendTo=T=function(t){var n=t.getContentEl();return void 0!==n&&(n.appendChild(i),p(t)),e},e.prepend=S=function(t){var n;CHECK_IS_DATA(t)===!0?t.prependTo(e):e.type===TEXTAREA?S(DOM({tag:"__STRING",__TEXT:String(void 0===t?"":t)})):(n=String(void 0===t?"":t).split("\n"),REPEAT({start:n.length-1,end:0},function(t){S(DOM({tag:"__STRING",__TEXT:n[t]})),t<n.length-1&&S(BR())}))},e.prependTo=C=function(t){var n=t.getContentEl();return void 0!==n&&(void 0===n.childNodes[0]?n.appendChild(i):n.insertBefore(i,n.childNodes[0]),p(t,0)),e},e.after=I=function(t){var n;void 0!==i&&(i.parentNode===TO_DELETE?(void 0===a&&(a=[]),a.push(t)):CHECK_IS_DATA(t)===!0?t.insertAfter(e):(n=String(void 0===t?"":t).split("\n"),REPEAT({start:n.length-1,end:0},function(t){I(DOM({tag:"__STRING",__TEXT:n[t]})),t<n.length-1&&I(BR())})))},e.insertAfter=_=function(t){var n,o,r=t.getWrapperEl();return void 0!==r&&(r.parentNode.insertBefore(i,r.nextSibling),n=FIND({array:t.getParent().getChildren(),value:e}),o=FIND({array:t.getParent().getChildren(),value:t})+1,p(t.getParent(),o>n?o-1:o)),e},e.before=D=function(t){var n;void 0!==i&&(i.parentNode===TO_DELETE?(void 0===u&&(u=[]),u.push(t)):CHECK_IS_DATA(t)===!0?t.insertBefore(e):(n=String(void 0===t?"":t).split("\n"),EACH(n,function(t,e){D(DOM({tag:"__STRING",__TEXT:t})),e<n.length-1&&D(BR())})))},e.insertBefore=O=function(t){var n=t.getWrapperEl();return void 0!==n&&(n.parentNode.insertBefore(i,n),p(t.getParent(),FIND({array:t.getParent().getChildren(),value:t}))),e},e.remove=y=function(){void 0!==i&&i.parentNode!==TO_DELETE&&(R(),i.parentNode.removeChild(i),b(void 0),EVENT.fireAll({node:e,name:"remove"}),EVENT.removeAll({node:e}),i=void 0,r=void 0),d=void 0},e.empty=R=function(){EACH(j,function(t){t.remove()})},e.setParent=b=function(t){void 0!==s&&REMOVE({array:s.getChildren(),value:e}),s=t},e.getParent=N=function(){return s},e.getChildren=H=function(){return j},e.on=M=function(t,n){EVENT({node:e,name:t},n)},e.off=L=function(t,n){void 0!==n?EVENT.remove({node:e,name:t},n):EVENT.removeAll({node:e,name:t})},e.addStyle=F=function(t){ADD_STYLE({node:e,style:t})},e.getStyle=w=function(t){var e,n;return void 0!==i&&(e=i.style,void 0!==e)?(n=e[t],""===n?void 0:"px"===n.substring(n.length-2)?REAL(n):n):void 0},e.getWidth=P=function(){return i.offsetWidth},e.getInnerWidth=x=function(){return i.clientWidth},e.getHeight=B=function(){return i.offsetHeight},e.getInnerHeight=k=function(){return i.clientHeight},e.getLeft=G=function(){var t=0,e=i;do t+=e.offsetLeft-(e===document.body?0:e.scrollLeft),e=e.offsetParent;while(e!==TO_DELETE);return t},e.getTop=V=function(){var t=0,e=i;do t+=e.offsetTop-(e===document.body?0:e.scrollTop),e=e.offsetParent;while(e!==TO_DELETE);return t},e.hide=X=function(){F({display:"none"})},e.show=K=function(){F({display:void 0===c?"":c}),W()===!0&&(EVENT.fireAll({node:e,name:"show"}),EVENT.removeAll({node:e,name:"show"}))},e.checkIsShowing=W=function(){return i===document.body?!0:void 0!==s&&s.checkIsShowing()===!0&&"none"!==w("display")},e.setData=U=function(t){d=t},e.getData=Y=function(){return d},e.scrollTo=z=function(t){var e=t.left,n=t.top;void 0!==r&&(void 0!==e&&(r.scrollLeft=e),void 0!==n&&(r.scrollTop=n))}},afterInit:function(t,e,n){"use strict";var o,i,r;void 0!==n&&(o=n.style,i=void 0===n.c||CHECK_IS_ARRAY(n.c)===!0?n.c:[n.c],r=n.on),void 0!==o&&e.addStyle(o),void 0!==r&&EACH(r,function(t,n){e.on(n,t)}),void 0!==i&&EACH(i,function(t){e.append(t)})}}),global.ANIMATE=METHOD({run:function(t,e){"use strict";var n=t.node,o=t.keyframes,i=void 0===t.duration?.5:t.duration,r=void 0===t.timingFunction?"":t.timingFunction,a=void 0===t.delay?"":t.delay,u=void 0===t.iterationCount?"":t.iterationCount,s=void 0===t.direction?"":t.direction,c=void 0===t.playState?"":t.playState,d=o.getName()+" "+i+"s "+r+" "+a+" "+u+" "+s+" "+c;n.addStyle(o.getStartStyle()),n.addStyle({animation:d}),n.addStyle(o.getFinalStyle()),void 0===e||""!==u&&1!==u||DELAY(i,function(){e(n)})}}),global.KEYFRAMES=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,s,c="__KEYFRAMES_"+e.id,d="",l="";EACH(n,function(t,e){d+=e+"{",EACH(t,function(t,e){"number"==typeof t&&"zIndex"!==e&&"opacity"!==e&&(t+="px"),d+=e.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+t+";","transform"===e&&(d+="-webkit-transform:"+t+";",d+="-moz-transform:"+t+";",d+="-o-transform:"+t+";",d+="-ms-transform:"+t+";")}),d+="}","from"===e||"0%"===e?i=t:("to"===e||"100%"===e)&&(r=t)}),l+="@-webkit-keyframes "+c+"{"+d+"}",l+="@-moz-keyframes "+c+"{"+d+"}",l+="@-o-keyframes "+c+"{"+d+"}",l+="@-ms-keyframes "+c+"{"+d+"}",l+="@keyframes "+c+"{"+d+"}",o=document.createElement("style"),o.type="text/css",o.appendChild(document.createTextNode(l)),document.getElementsByTagName("head")[0].appendChild(o),e.getName=a=function(){return c},e.getStartStyle=u=function(){return i},e.getFinalStyle=s=function(){return r}}}),global.E=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,s,c,d,l=n.e,f=n.el;o=function(t,e){for(var n=e.parentNode;n!==TO_DELETE;){if(n===t)return!0;n=n.parentNode}return!1},e.stopDefault=i=function(){l.preventDefault()},e.stopBubbling=r=function(){l.stopPropagation()},e.stop=a=function(){i(),r()},e.getLeft=u=function(){var t;if(INFO.checkIsTouchMode()===!0){if(void 0!==l.touches&&void 0!==l.touches[0]&&(EACH(l.touches,function(e){return void 0!==e.target&&o(f,e.target)===!0?(t=e.pageX,!1):void 0}),void 0===t&&(t=l.touches[0].pageX),void 0!==t))return t;if(void 0!==l.changedTouches&&void 0!==l.changedTouches[0]&&(EACH(l.changedTouches,function(e){return void 0!==e.target&&o(f,e.target)===!0?(t=e.pageX,!1):void 0}),void 0===t&&(t=l.changedTouches[0].pageX),void 0!==t))return t}return l.pageX},e.getTop=s=function(){var t;if(INFO.checkIsTouchMode()===!0){if(void 0!==l.touches&&void 0!==l.touches[0]&&(EACH(l.touches,function(e){return void 0!==e.target&&o(f,e.target)===!0?(t=e.pageY,!1):void 0}),void 0===t&&(t=l.touches[0].pageY),void 0!==t))return t;if(void 0!==l.changedTouches&&void 0!==l.changedTouches[0]&&(EACH(l.changedTouches,function(e){return void 0!==e.target&&o(f,e.target)===!0?(t=e.pageY,!1):void 0
}),void 0===t&&(t=l.changedTouches[0].pageY),void 0!==t))return t}return l.pageY},e.getKeyCode=c=function(){return l.keyCode},e.getState=d=function(){return l.state}}}),global.EMPTY_E=CLASS({init:function(t,e){"use strict";var n,o,i,r,a,u,s;e.stopDefault=n=function(){},e.stopBubbling=o=function(){},e.stop=i=function(){},e.getLeft=r=function(){return-999999},e.getTop=a=function(){return-999999},e.getKeyCode=u=function(){return-999999},e.getState=s=function(){}}}),global.EVENT=CLASS(function(t){"use strict";var e,n,o,i={};return t.fireAll=e=function(t){var e,n,o,r,a,u;return CHECK_IS_DATA(t)!==!0?n=t:(e=t.node,n=t.name),o=void 0===e?"body":e.id,r=i[o],void 0!==r&&(a=r[n],void 0!==a&&EACH(a,function(t){t.fire()===!1&&(u=!1)})),u},t.removeAll=n=function(t){var e,n,o,r,a;CHECK_IS_DATA(t)!==!0?n=t:(e=t.node,n=t.name),o=void 0===e?"body":e.id,r=i[o],void 0!==r&&(void 0!==n?(a=r[n],void 0!==a&&EACH(a,function(t){t.remove()})):EACH(r,function(t){EACH(t,function(t){t.remove()})}))},t.remove=o=function(t,e){var n,o,r,a=t.node,u=t.name;n=void 0===a?"body":a.id,o=i[n],void 0!==o&&(r=o[u],void 0!==r&&EACH(r,function(t){t.getEventHandler()===e&&t.remove()}))},{init:function(t,e,n,o){var r,a,u,s,c,d,l,f,g,E,v,h,m=[];CHECK_IS_DATA(n)!==!0?u=n:(r=n.node,a=n.lowNode,u=n.name,void 0===a&&(a=r)),s=void 0===r?"body":r.id,void 0===i[s]&&(i[s]={}),void 0===i[s][u]&&(i[s][u]=[]),i[s][u].push(e),g=function(){REMOVE({array:i[s][u],value:e}),i[s][u].length<=0&&delete i[s][u],CHECK_IS_EMPTY_DATA(i[s])===!0&&delete i[s]},"tap"===u?(m.push(EVENT_LOW({node:r,lowNode:a,name:"touchstart"},function(t){INFO.checkIsTouchMode()===!0&&INFO.checkIsExistsTapDelay()===!0&&void 0!==t&&(d=t.getLeft(),l=t.getTop())})),m.push(EVENT_LOW({node:r,lowNode:a,name:"touchend"},function(t,e){var n,i;return INFO.checkIsTouchMode()===!0&&INFO.checkIsExistsTapDelay()===!0&&void 0!==t&&(n=t.getLeft(),i=t.getTop(),n>=d-5&&d+5>=n&&i>=l-5&&l+5>=i&&(void 0===f||Date.now()-f>100))?(f=Date.now(),"body"!==s&&t.stopDefault(),o(t,e)):void 0})),m.push(EVENT_LOW({node:r,lowNode:a,name:"click"},function(t,e){return INFO.checkIsTouchMode()===!0&&INFO.checkIsExistsTapDelay()===!0||!(void 0===f||Date.now()-f>100)?void 0:(f=Date.now(),"body"!==s&&t.stopDefault(),o(t,e))}))):"doubletap"===u?c=EVENT({node:r,name:"tap"},function(t){void 0===f?f=Date.now():(Date.now()-f<600&&o(t,r),f=void 0,getSelection().removeAllRanges())}):"touchstart"===u?(m.push(EVENT_LOW({node:r,lowNode:a,name:"touchstart"},function(t,e){INFO.checkIsTouchMode()===!0&&o(t,e)})),m.push(EVENT_LOW({node:r,lowNode:a,name:"mousedown"},function(t,e){INFO.checkIsTouchMode()!==!0&&o(t,e)}))):"touchmove"===u?(m.push(EVENT_LOW({node:r,lowNode:a,name:"touchmove"},function(t,e){INFO.checkIsTouchMode()===!0&&o(t,e)})),m.push(EVENT_LOW({node:r,lowNode:a,name:"mousemove"},function(t,e){INFO.checkIsTouchMode()!==!0&&o(t,e)}))):"touchend"===u?(m.push(EVENT_LOW({node:r,lowNode:a,name:"touchend"},function(t,e){INFO.checkIsTouchMode()===!0&&o(t,e)})),m.push(EVENT_LOW({node:r,lowNode:a,name:"mouseup"},function(t,e){INFO.checkIsTouchMode()!==!0&&o(t,e)}))):"mouseover"===u?(m.push(EVENT_LOW({node:r,lowNode:a,name:"touchstart"},function(t,e){INFO.checkIsTouchMode()===!0&&o(t,e)})),m.push(EVENT_LOW({node:r,lowNode:a,name:"mouseover"},function(t,e){INFO.checkIsTouchMode()!==!0&&o(t,e)}))):"attach"!==u&&"show"!==u&&"remove"!==u&&m.push(EVENT_LOW(n,o)),e.remove=E=function(){EACH(m,function(t){t.remove()}),void 0!==c&&c.remove(),g()},e.fire=v=function(){return o(EMPTY_E(),r)},e.getEventHandler=h=function(){return o}}}}),global.EVENT_LOW=CLASS({init:function(t,e,n,o){"use strict";var i,r,a,u,s,c;CHECK_IS_DATA(n)!==!0?a=n:(i=n.node,r=n.lowNode,a=n.name,void 0===r&&(r=i)),u=void 0!==r?r.getWrapperEl():void 0===global["on"+a]?document:global,t.innerHandler=s=function(t){var e=o(E({e:t,el:u}),i);return"beforeunload"===a&&void 0!==e&&(t.returnValue=e),e},u.addEventListener(a,s,!1),e.remove=c=function(){u.removeEventListener(a,s,!1)}}}),global.EVENT_ONCE=CLASS({init:function(t,e,n,o){"use strict";var i,r,a=EVENT(n,function(t,e){o(t,e),a.remove()});e.remove=i=function(){a.remove()},e.fire=r=function(){a.fire()}}}),global.ADD_STYLE=METHOD(function(){"use strict";var t,e=["Webkit","Moz","O","Ms"],n=["transform","transformOrigin","animation","touchCallout","userSelect","backgroundSize","backgroundPosition"];return NEXT([function(t){document.body===TO_DELETE?EVENT({name:"load"},t):t()},function(){return function(){var e=document.createElement("div");e.style.position="fixed",e.style.top="10px",document.body.appendChild(e),t=10===e.offsetTop,document.body.removeChild(e)}}]),{run:function(o){var i=o.node,r=o.style,a=i.getWrapperEl(),u=function(t){X2.checkIsCached(t)===!0?X2.switchBG({node:i,uri:t}):EXPORT_IMG_TYPE(IMG({src:t}),function(e){("png"===e||"gif"===e||"bmp"===e)&&X2.switchBG({node:i,uri:t})})};EACH(r,function(o,r){var s,c,d;if(void 0!==o)if("onDisplayResize"===r)s=EVENT({name:"resize"},RAR(function(){ADD_STYLE({node:i,style:o(WIN_WIDTH(),WIN_HEIGHT())})})),i.on("remove",function(){s.remove()});else try{"position"===r&&"fixed"===o&&t!==!0?(a.style.position="absolute",i.__FIXED=!0,void 0===i.__FIXED_LEFT&&""!==a.style.left&&(i.__FIXED_LEFT=INTEGER(a.style.left)),void 0===i.__FIXED_RIGHT&&""!==a.style.right&&(i.__FIXED_RIGHT=INTEGER(a.style.right)),void 0===i.__FIXED_TOP&&""!==a.style.top&&(i.__FIXED_TOP=INTEGER(a.style.top)),void 0===i.__FIXED_BOTTOM&&""!==a.style.bottom&&(i.__FIXED_BOTTOM=INTEGER(a.style.bottom)),c=EVENT({name:"scroll"},RAR(d=function(){void 0!==i.__FIXED_LEFT&&(a.style.left=i.__FIXED_LEFT+SCROLL_LEFT()+"px"),void 0!==i.__FIXED_RIGHT&&(a.style.left=SCROLL_LEFT()+WIN_WIDTH()-i.getWidth()-i.__FIXED_RIGHT+"px"),void 0!==i.__FIXED_TOP&&(a.style.top=i.__FIXED_TOP+SCROLL_TOP()+"px"),void 0!==i.__FIXED_BOTTOM&&(a.style.top=SCROLL_TOP()+WIN_HEIGHT()-i.getHeight()-i.__FIXED_BOTTOM+"px")})),i.on("attach",function(){d()}),DELAY(function(){d()}),i.on("remove",function(){c.remove()})):i.__FIXED===!0&&"left"===r?(i.__FIXED_LEFT=INTEGER(o),a.style.left=o+SCROLL_LEFT()+"px"):i.__FIXED===!0&&"right"===r?(i.__FIXED_RIGHT=INTEGER(o),a.style.left=SCROLL_LEFT()+WIN_WIDTH()-i.getWidth()-i.__FIXED_RIGHT+"px"):i.__FIXED===!0&&"top"===r?(i.__FIXED_TOP=INTEGER(o),a.style.top=o+SCROLL_TOP()+"px"):i.__FIXED===!0&&"bottom"===r?(i.__FIXED_BOTTOM=INTEGER(o),a.style.top=SCROLL_TOP()+WIN_HEIGHT()-i.getHeight()-i.__FIXED_BOTTOM+"px"):"flt"===r?a.style.cssFloat=o:"number"==typeof o&&"zIndex"!==r&&"opacity"!==r?(a.style[r]=o+"px",BROWSER_CONFIG.isSupportingX2===!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&("width"===r||"height"===r)&&(a.removeAttribute("width"),a.removeAttribute("height"))):"backgroundX2Image"===r?a.style.backgroundImage="url("+o+")":"backgroundImage"===r&&"none"!==o?(a.style[r]="url("+o+")",BROWSER_CONFIG.isSupportingX2===!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&u(o)):(a.style[r]=o,BROWSER_CONFIG.isSupportingX2===!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&(("width"===r||"height"===r)&&(a.removeAttribute("width"),a.removeAttribute("height")),"background"===r&&o.length>=7&&"url("===o.substring(0,4)&&u("'"===o.charAt(4)||'"'===o.charAt(4)?o.substring(5,o.length-2):o.substring(4,o.length-1))),CHECK_IS_IN({array:n,value:r})===!0&&EACH(e,function(t){a.style[t+r.charAt(0).toUpperCase()+r.slice(1)]=o}))}catch(l){}})}}}),global.RGBA=METHOD({run:function(t){"use strict";return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"}}),global.A=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"a"}},init:function(t,e,n){"use strict";var o,i,r,a,u;void 0!==n&&(o=n.href,i=n.target,r=n.style),e.setHref=a=function(e){t.setAttr({name:"href",value:e})},void 0!==o&&a(o),void 0!==i&&t.setAttr({name:"target",value:i}),(void 0===r||void 0===r.cursor)&&e.addStyle({cursor:"pointer"}),(void 0===r||void 0===r.textDecoration)&&e.addStyle({textDecoration:"underline"}),e.tap=u=function(){EVENT.fireAll({node:e,name:"tap"})}},afterInit:function(t,e,n){"use strict";var o,i,r,a,u=!1;void 0!==n&&(o=n.href,i=n.c),void 0===i&&void 0!==o&&(e.append(o),u=!0,OVERRIDE(e.append,function(t){e.append=r=function(n){u===!0&&(e.empty(),u=!1),t(n)}}),OVERRIDE(e.prepend,function(t){e.prepend=a=function(n){u===!0&&(e.empty(),u=!1),t(n)}}))}}),global.BODY=OBJECT({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"body"}}}),global.BR=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"br"}}}),global.CANVAS=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"canvas"}},init:function(t,e,n){"use strict";var o,i,r,a,u,s,c;void 0!==n&&(o=n.width,i=n.height),e.getContext=r=function(){return CONTEXT(e)},e.setSize=a=function(t){var n=e.getEl();void 0!==t.width&&(o=t.width),void 0!==t.height&&(i=t.height),void 0!==o&&(n.width=o),void 0!==i&&(n.height=i)},a({width:o,height:i}),e.getWidth=u=function(){return o},e.getHeight=s=function(){return i},e.getDataURL=c=function(){return e.getEl().toDataURL()}}}),global.DIV=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"div"}}}),global.FORM=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"form"}},init:function(t,e,n){"use strict";var o,i,r,a,u,s,c;void 0!==n&&(o=n.action,i=n.target,r=n.method,a=n.enctype),void 0!==o?t.setAttr({name:"action",value:o}):EVENT({node:e,name:"submit"},function(t){t.stop()}),void 0!==i&&t.setAttr({name:"target",value:i}),void 0!==r&&t.setAttr({name:"method",value:r}),void 0!==a&&t.setAttr({name:"enctype",value:a}),OVERRIDE(e.setData,function(t){e.getData=u=function(){var n=t(),o=function(t){EACH(t.getChildren(),function(t){void 0!==t.getValue&&void 0!==t.getName&&void 0!==t.getName()&&(n[t.getName()]=t.getValue()),o(t)})};return void 0===n&&(n={}),o(e),n}}),OVERRIDE(e.setData,function(t){e.setData=s=function(n){var o=function(t){EACH(t.getChildren(),function(t){var e;void 0!==t.setValue&&void 0!==t.getName&&void 0!==t.getName()&&(e=n[t.getName()],t.setValue(void 0===e?"":e)),o(t)})};o(e),t(n)}}),e.submit=c=function(t){EVENT.fireAll({node:e,name:"submit"}),t===!0&&e.getEl().submit()}}}),global.H1=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h1"}}}),global.H2=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h2"}}}),global.H3=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h3"}}}),global.H4=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h4"}}}),global.H5=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h5"}}}),global.H6=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h6"}}}),global.IFRAME=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"iframe",style:{border:"none"}}},init:function(t,e,n){"use strict";var o,i,r,a;void 0!==n&&(o=n.name,i=n.src),t.setAttr({name:"allowTransparency",value:!0}),t.setAttr({name:"frameBorder",value:0}),void 0!==o&&t.setAttr({name:"name",value:o}),e.setSrc=r=function(e){i=e,t.setAttr({name:"src",value:i})},void 0!==i&&r(i),e.getSrc=a=function(){return i}}}),global.IMG=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"img"}},init:function(t,e,n){"use strict";var o,i,r,a,u,s,c,d,l=n.src,f=e.getEl();e.getWidth=i=function(){return f.width},e.getHeight=r=function(){return f.height},e.setSize=a=function(t){var e=t.width,n=t.height;void 0!==e&&(f.width=e),void 0!==n&&(f.height=n)},e.getSrc=u=function(){return l},e.setX2Src=s=function(e){t.setAttr({name:"src",value:e})},e.setSrc=c=function(n){l=n,t.setAttr({name:"src",value:l}),o!==!0&&BROWSER_CONFIG.isSupportingX2===!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&(X2.checkIsCached(l)===!0?X2.switchImg(e):EXPORT_IMG_TYPE(e,function(t){("png"===t||"gif"===t||"bmp"===t)&&(o=!0,X2.switchImg(e))}))},void 0!==l&&c(l),e.checkIsX2=d=function(){return o}}}),global.INPUT=CLASS(function(t){"use strict";var e,n=[];return t.getFocusingInputIds=e=function(){return n},{preset:function(){return DOM},params:function(){return{tag:"input"}},init:function(t,n,o){var i,r,a,u,s,c,d,l,f,g,E,v,h,m;void 0!==o&&(i=o.name,r=o.type,a=o.placeholder,u=o.capture,s=o.accept,c=o.isMultiple),void 0!==r&&t.setAttr({name:"type",value:r}),"submit"!==r&&"reset"!==r&&(void 0!==i&&t.setAttr({name:"name",value:i}),void 0!==a&&t.setAttr({name:"placeholder",value:a}),void 0!==u&&t.setAttr({name:"capture",value:u}),void 0!==s&&t.setAttr({name:"accept",value:s}),c===!0&&t.setAttr({name:"multiple",value:c}),n.getName=d=function(){return i},n.getValue=l=function(){return"checkbox"===r||"radio"===r?n.getEl().checked:n.getEl().value},n.select=g=function(){"file"===r?n.getEl().click():n.getEl().select()},n.focus=E=function(){n.getEl().focus()},n.blur=v=function(){n.getEl().blur()},("checkbox"===r||"radio"===r)&&(n.toggleCheck=h=function(){return n.getEl().checked=n.getEl().checked===!0?!1:!0,EVENT.fireAll({node:n,name:"change"}),n.getEl().checked},n.checkIsChecked=m=function(){return n.getEl().checked},EVENT({node:n,name:"keyup"},function(t){void 0!==t&&32===t.getKeyCode()&&DELAY(function(){EVENT.fireAll({node:n,name:"change"})})}))),n.setValue=f=function(t){"checkbox"===r||"radio"===r?t===!0?n.getEl().checked!==!0?(n.getEl().checked=!0,EVENT.fireAll({node:n,name:"change"})):n.getEl().checked=!0:n.getEl().checked===!0?(n.getEl().checked=!1,EVENT.fireAll({node:n,name:"change"})):n.getEl().checked=!1:n.getEl().value!==t?(n.getEl().value=t,EVENT.fireAll({node:n,name:"change"})):n.getEl().value=t},EVENT({node:n,name:"focus"},function(){e().push(n.id)}),EVENT({node:n,name:"blur"},function(){REMOVE({array:e(),value:n.id})}),n.on("remove",function(){REMOVE({array:e(),value:n.id})}),"radio"===r&&EVENT({node:n,name:"touchstart"},function(){m()===!0&&EVENT_ONCE({node:n,name:"touchend"},function(){DELAY(function(){f(!1)})})})},afterInit:function(t,e,n){var o,i;void 0!==n&&(o=n.type,i=n.value),void 0!==i&&("checkbox"===o||"radio"===o?e.getEl().checked=i===!0?e.getEl().checked!==!0?!0:!0:e.getEl().checked===!0?!1:!1:e.getEl().value=e.getEl().value!==i?i:i)}}}),global.LI=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"li"}}}),global.OPTGROUP=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"optgroup"}},init:function(t,e,n){"use strict";var o=n.label;t.setAttr({name:"label",value:o})}}),global.OPTION=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"option"}},init:function(t,e){"use strict";var n,o;e.getValue=n=function(){return e.getEl().value},e.setValue=o=function(t){e.getEl().value=t}},afterInit:function(t,e,n){"use strict";var o,i;void 0!==n&&(o=n.value,i=n.c),void 0===o?e.setValue(""):(e.setValue(o),void 0===i&&e.append(o))}}),global.P=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"p"}}}),global.SELECT=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"select"}},init:function(t,e,n){"use strict";var o,i,r,a,u,s,c,d=!1;void 0!==n&&(o=n.name),void 0!==o&&t.setAttr({name:"name",value:o}),e.getName=i=function(){return o},e.getValue=r=function(){return e.getEl().value},e.setValue=a=function(t){e.getEl().value!==t?(e.getEl().value=t,EVENT.fireAll({node:e,name:"change"})):e.getEl().value=t},e.select=u=function(){e.getEl().select()},e.focus=s=function(){e.getEl().focus()},e.blur=c=function(){e.getEl().blur()},EVENT({node:e,name:"keydown"},function(t){var e=t.getKeyCode();91===e||17===e?d=!0:d!==!0&&t.stopBubbling()}),EVENT({node:e,name:"keyup"},function(t){var e=t.getKeyCode();(91===e||17===e)&&(d=!1)}),EVENT({node:e,name:"focus"},function(){INPUT.getFocusingInputIds().push(e.id)}),EVENT({node:e,name:"blur"},function(){REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})}),e.on("remove",function(){REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})})},afterInit:function(t,e,n){"use strict";var o;void 0!==n&&(o=n.value),void 0!==o&&e.setValue(o)}}),global.SPAN=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"span"}}}),global.TABLE=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"table"}},init:function(t,e,n){"use strict";var o;void 0!==n&&(o=n.style),(void 0===o||void 0===o.width)&&e.addStyle({width:"100%"})}}),global.TD=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"td"}},init:function(t,e,n){"use strict";var o,i;void 0!==n&&(o=n.rowspan,i=n.colspan),void 0!==o&&t.setAttr({name:"rowspan",value:o}),void 0!==i&&t.setAttr({name:"colspan",value:i})}}),global.TEXTAREA=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"textarea"}},init:function(t,e,n){"use strict";var o,i,r,a,u,s,c,d,l=!1;void 0!==n&&(o=n.name,i=n.placeholder),void 0!==o&&t.setAttr({name:"name",value:o}),void 0!==i&&t.setAttr({name:"placeholder",value:i}),e.getName=r=function(){return o},e.getValue=a=function(){return e.getEl().value},e.setValue=u=function(t){e.getEl().value!==t?(e.getEl().value=t,EVENT.fireAll({node:e,name:"change"})):e.getEl().value=t},e.select=s=function(){e.getEl().select()},e.focus=c=function(){e.getEl().focus()},e.blur=d=function(){e.getEl().blur()},EVENT({node:e,name:"keydown"},function(t){var e=t.getKeyCode();91===e||17===e?l=!0:l!==!0&&t.stopBubbling()}),EVENT({node:e,name:"keyup"},function(t){var e=t.getKeyCode();(91===e||17===e)&&(l=!1)}),EVENT({node:e,name:"focus"},function(){INPUT.getFocusingInputIds().push(e.id)}),EVENT({node:e,name:"blur"},function(){REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})}),e.on("remove",function(){REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})})},afterInit:function(t,e,n){"use strict";var o;void 0!==n&&(o=n.value),void 0!==o&&e.setValue(o)}}),global.TH=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"th"}},init:function(t,e,n){"use strict";var o,i;void 0!==n&&(o=n.rowspan,i=n.colspan),void 0!==o&&t.setAttr({name:"rowspan",value:o}),void 0!==i&&t.setAttr({name:"colspan",value:i})}}),global.TR=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"tr"}}}),global.UL=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"ul"}}}),global.CHECK_IS_BLANK_PIXEL=METHOD(function(){"use strict";var t={};return{run:function(e,n){var o=e.img,i=e.left,r=e.right,a=e.centerLeft,u=e.top,s=e.bottom,c=e.centerTop;EXPORT_IMG_DATA(o,function(e){var d,l,f,g,E,v,h=o.getSrc(),m=t[h];if(void 0===m){for(d=e.width,l=e.height,f=e.data,m=[],E=0;l>E;E+=1)for(m[E]=[],v=0;d>v;v+=1)m[E][v]=f[E*d*4+4*v+3]<127.5;t[h]=m}void 0!==u?g=m[INTEGER(u)]:void 0!==s?g=m[m.length-INTEGER(s)-1]:void 0!==c&&(g=m[INTEGER(m.length/2)+INTEGER(c)]),void 0!==g&&(void 0!==i?n(g[INTEGER(i)]):void 0!==r?n(g[g.length-INTEGER(r)-1]):void 0!==a&&n(g[INTEGER(g.length/2)+INTEGER(a)]))})}}}),global.CONTEXT=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,s,c,d,l,f,g,E,v,h,m,p,A,T=n.getEl().getContext("2d");e.drawImg=o=function(t){var e=t.img,n=void 0===t.x?0:t.x,o=void 0===t.y?0:t.y,i=void 0!==t.clipX?t.clipX:0,r=void 0!==t.clipY?t.clipY:0,a=t.clipWidth,u=t.clipHeight,s=t.width,c=t.height,d=e.checkIsX2()===!0?2:1;void 0===a&&void 0===u?s>0&&c>0?T.drawImage(e.getEl(),n,o,s,c):T.drawImage(e.getEl(),n,o):(void 0===a&&(a=e.getWidth()),void 0===u&&(u=e.getHeight()),T.drawImage(e.getEl(),i*d,r*d,a*d,u*d,n,o,s,c))},e.getImageData=i=function(t){var e=void 0===t||void 0===t.x?0:t.x,o=void 0===t||void 0===t.y?0:t.y,i=void 0===t||void 0===t.width?n.getWidth():t.width,r=void 0===t||void 0===t.height?n.getHeight():t.height;return T.getImageData(e,o,i,r)},e.createImageData=r=function(t){var e=t.width,n=t.height;return T.createImageData(e,n)},e.putImageData=a=function(t){var e=t.data,n=void 0===t.x?0:t.x,o=void 0===t.y?0:t.y;T.putImageData(e,n,o)},e.setScale=u=function(t){var e=t.scaleWidth,n=t.scaleHeight;T.scale(e,n)},e.rotate=s=function(t){var e=t.centerX,n=t.centerY,o=t.degree;T.translate(e,n),T.rotate(o*Math.PI/180),T.translate(-e,-n)},e.save=c=function(){T.save()},e.restore=d=function(){T.restore()},e.clear=l=function(){T.clearRect(0,0,n.getWidth(),n.getHeight())},e.beginPath=f=function(){T.beginPath()},e.closePath=g=function(){T.closePath()},e.moveTo=E=function(t){var e=t.x,n=t.y;T.moveTo(e,n)},e.lineTo=v=function(t){var e=t.x,n=t.y;T.lineTo(e,n)},e.strock=h=function(){T.strock()},e.setStrokeStyle=m=function(t){T.strokeStyle=t},e.fill=p=function(){T.fill()},e.setFillStyle=A=function(t){T.fillStyle=t}}}),global.EXPORT_IMG_DATA=METHOD(function(){"use strict";var t={},e={};return{run:function(n,o){var i,r=n.getSrc(),a=t[r],u=e[r];void 0!==a?o(a):void 0!==u?u.push(o):(u=e[r]=[o],i=IMG(),i.getContentEl().crossOrigin="anonymous",i.setSrc(r),EVENT_ONCE({node:i,name:"load"},function(n,o){var i,a=o.getWidth(),s=o.getHeight(),c=CANVAS({width:a,height:s}),d=c.getContext();d.drawImg({img:o}),i=d.getImageData(),t[r]=i,EACH(u,function(t){t(i)}),delete e[r]}))}}}),global.EXPORT_IMG_TYPE=METHOD(function(){"use strict";var t={},e={};return{run:function(n,o){var i=n.getSrc(),r=t[i],a=e[i];void 0!==r?o(r):void 0!==a?a.push(o):(a=e[i]=[o],ImageInfo.loadInfo(i,function(){var n=ImageInfo.getAllFields(i).format.toLowerCase();t[i]=n,EACH(a,function(t){t(n)}),delete e[i]}))}}}),global.X2=OBJECT({init:function(t,e){"use strict";var n,o,i,r,a={};e.checkIsCached=n=function(t){return void 0!==a[t]},o=function(t,e){var o=t.getSrc();n(o)===!0?e(a[o]):EXPORT_IMG_DATA(t,function(t){var n,i,r,u,s,c,d,l,f,g,E;for(i=t.width,r=t.height,u=t.data,s=CANVAS(),s.setSize({width:2*i,height:2*r}),c=s.getContext(),n=c.createImgData({width:2*i,height:2*r}),d=n.data,l=0;r>l;l+=1)for(f=0;i>f;f+=1)g=l*i*4+4*f,E=4*(4*l*i+2*f),d[E]=u[g],d[E+1]=u[g+1],d[E+2]=u[g+2],d[E+3]=u[g+3],d[E+4]=u[g],d[E+5]=u[g+1],d[E+6]=u[g+2],d[E+7]=u[g+3],E=4*(2*(2*l+1)*i+2*f),d[E]=u[g],d[E+1]=u[g+1],d[E+2]=u[g+2],d[E+3]=u[g+3],d[E+4]=u[g],d[E+5]=u[g+1],d[E+6]=u[g+2],d[E+7]=u[g+3];c.putImgData({data:n}),e(a[o]={x2DataURL:s.getDataURL(),width:i,height:r})})},e.switchImg=i=function(t){void 0!==t.getEl()&&o(t,function(e){var n,o,i;void 0!==t.getEl()&&(n=e.x2DataURL,o=t.getWidth(),i=t.getHeight(),(void 0===o||0>=o)&&(o=e.width),(void 0===i||0>=i)&&(i=e.height),void 0===t.getStyle("width")&&void 0===t.getStyle("height")&&t.setSize({width:o,height:i}),t.setX2Src(n))})},e.switchBG=r=function(t){var e=t.node,n=IMG({src:t.uri});o(n,function(t){var n=t.x2DataURL,o=e.getStyle("backgroundSize");(void 0===o||"initial"===o)&&(o=t.width+"px "+t.height+"px"),ADD_STYLE({node:e,style:{backgroundX2Image:n,backgroundSize:o}})})}}}),global.MSG=METHOD({run:function(t){"use strict";var e=t[INFO.getLang()];return void 0===e&&EACH(t,function(t){return e=t,!1}),e}}),!function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):this[t]=e()}("bowser",function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function o(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,r=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(t),u=!a&&/android/i.test(t),s=/CrOS/.test(t),c=n(/edge\/(\d+(\.\d+)?)/i),d=n(/version\/(\d+(\.\d+)?)/i),l=/tablet/i.test(t),f=!l&&/[^-]mobi/i.test(t);/opera|opr/i.test(t)?i={name:"Opera",opera:e,version:d||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:d||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(t)?(i={name:"Windows Phone",windowsphone:e},c?(i.msedge=e,i.version=c):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:s?i={name:"Chrome",chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:c}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?(i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},d&&(i.version=d)):/sailfish/i.test(t)?i={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e)):/silk/i.test(t)?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:u?i={name:"Android",version:d}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",blackberry:e,version:d||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(t)?(i={name:"WebOS",webos:e,version:d||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):i=/bada/i.test(t)?{name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(t)?{name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||d}:/safari/i.test(t)?{name:"Safari",safari:e,version:d}:{name:n(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(i.name=i.name||"Webkit",i.webkit=e,!i.version&&d&&(i.version=d)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.msedge||!u&&!i.silk?r&&(i[r]=e,i.ios=e):i.android=e;var g="";i.windowsphone?g=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r?(g=n(/os (\d+([_\s]\d+)*) like mac os x/i),g=g.replace(/[_\s]/g,".")):u?g=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?g=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?g=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?g=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(g=n(/tizen[\/\s](\d+(\.\d+)*)/i)),g&&(i.osversion=g);var E=g.split(".")[0];return l||"ipad"==r||u&&(3==E||4==E&&!f)||i.silk?i.tablet=e:(f||"iphone"==r||"ipod"==r||u||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.chrome&&i.version>=20||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6?i.c=e:i.x=e,i}var e=!0,n=t("undefined"!=typeof navigator?navigator.userAgent:"");return n.test=function(t){for(var e=0;e<t.length;++e){var o=t[e];if("string"==typeof o&&o in n)return!0}return!1},n._detect=t,n});var BinaryFile=function(t,e,n){var o=t,i=e||0,r=0;this.getRawData=function(){return o},"string"==typeof t?(r=n||o.length,this.getByteAt=function(t){return 255&o.charCodeAt(t+i)}):"unknown"==typeof t&&(r=n||IEBinary_getLength(o),this.getByteAt=function(t){return IEBinary_getByteAt(o,t+i)}),this.getLength=function(){return r},this.getSByteAt=function(t){var e=this.getByteAt(t);return e>127?e-256:e},this.getShortAt=function(t,e){var n=e?(this.getByteAt(t)<<8)+this.getByteAt(t+1):(this.getByteAt(t+1)<<8)+this.getByteAt(t);return 0>n&&(n+=65536),n},this.getSShortAt=function(t,e){var n=this.getShortAt(t,e);return n>32767?n-65536:n},this.getLongAt=function(t,e){var n=this.getByteAt(t),o=this.getByteAt(t+1),i=this.getByteAt(t+2),r=this.getByteAt(t+3),a=e?(((n<<8)+o<<8)+i<<8)+r:(((r<<8)+i<<8)+o<<8)+n;return 0>a&&(a+=4294967296),a},this.getSLongAt=function(t,e){var n=this.getLongAt(t,e);return n>2147483647?n-4294967296:n},this.getStringAt=function(t,e){for(var n=[],o=t,i=0;t+e>o;o++,i++)n[i]=String.fromCharCode(this.getByteAt(o));return n.join("")},this.getCharAt=function(t){return String.fromCharCode(this.getByteAt(t))},this.toBase64=function(){return window.btoa(o)},this.fromBase64=function(t){o=window.atob(t)}},BinaryAjax=function(){function t(){var t=null;return window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t}function e(e,n,o){var i=t();i?(n&&("undefined"!=typeof i.onload?i.onload=function(){"200"==i.status?n(this):o&&o(),i=null}:i.onreadystatechange=function(){4==i.readyState&&("200"==i.status?n(this):o&&o(),i=null)}),i.open("HEAD",e,!0),i.send(null)):o&&o()}function n(e,n,o,i,r){var a=t();if(a){var u=0;i&&!r&&(u=i[0]);var s=0;i&&(s=i[1]-i[0]+1),n&&("undefined"!=typeof a.onload?a.onload=function(){"200"==a.status||"206"==a.status?(this.binaryResponse=new BinaryFile(this.responseText,u,s),n(this)):o&&o(),a=null}:a.onreadystatechange=function(){4==a.readyState&&("200"==a.status||"206"==a.status?(this.binaryResponse=new BinaryFile(a.responseBody,u,s),n(this)):o&&o(),a=null)}),a.open("GET",e,!0),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),i&&r&&a.setRequestHeader("Range","bytes="+i[0]+"-"+i[1]),a.send(null)}else o&&o()}return function(t,o,i,r){r?e(t,function(){}):n(t,o,i)}}();document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n	IEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n	IEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n");var EXIF={};!function(){function t(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function e(t){return!!t.exifdata}function n(t,e){BinaryAjax(t.src,function(n){var i=o(n.binaryResponse);t.exifdata=i||{},e&&e()})}function o(t){if(255!=t.getByteAt(0)||216!=t.getByteAt(1))return!1;for(var e=2,n=t.getLength();n>e;){if(255!=t.getByteAt(e))return s&&console.log("Not a valid marker at offset "+e+", found: "+t.getByteAt(e)),!1;var o=t.getByteAt(e+1);if(22400==o)return s&&console.log("Found 0xFFE1 marker"),a(t,e+4,t.getShortAt(e+2,!0)-2);if(225==o)return s&&console.log("Found 0xFFE1 marker"),a(t,e+4,t.getShortAt(e+2,!0)-2);e+=2+t.getShortAt(e+2,!0)}}function i(t,e,n,o,i){for(var a=t.getShortAt(n,i),u={},c=0;a>c;c++){var d=n+12*c+2,l=o[t.getShortAt(d,i)];!l&&s&&console.log("Unknown tag: "+t.getShortAt(d,i)),u[l]=r(t,d,e,n,i)}return u}function r(t,e,n,o,i){var r=t.getShortAt(e+2,i),a=t.getLongAt(e+4,i),u=t.getLongAt(e+8,i)+n;switch(r){case 1:case 7:if(1==a)return t.getByteAt(e+8,i);for(var s=a>4?u:e+8,c=[],d=0;a>d;d++)c[d]=t.getByteAt(s+d);return c;case 2:var l=a>4?u:e+8;return t.getStringAt(l,a-1);case 3:if(1==a)return t.getShortAt(e+8,i);for(var s=a>2?u:e+8,c=[],d=0;a>d;d++)c[d]=t.getShortAt(s+2*d,i);return c;case 4:if(1==a)return t.getLongAt(e+8,i);for(var c=[],d=0;a>d;d++)c[d]=t.getLongAt(u+4*d,i);return c;case 5:if(1==a)return t.getLongAt(u,i)/t.getLongAt(u+4,i);for(var c=[],d=0;a>d;d++)c[d]=t.getLongAt(u+8*d,i)/t.getLongAt(u+4+8*d,i);return c;case 9:if(1==a)return t.getSLongAt(e+8,i);for(var c=[],d=0;a>d;d++)c[d]=t.getSLongAt(u+4*d,i);return c;case 10:if(1==a)return t.getSLongAt(u,i)/t.getSLongAt(u+4,i);for(var c=[],d=0;a>d;d++)c[d]=t.getSLongAt(u+8*d,i)/t.getSLongAt(u+4+8*d,i);return c}}function a(t,e){if("Exif"!=t.getStringAt(e,4))return s&&console.log("Not valid EXIF data! "+t.getStringAt(e,4)),!1;var n,o=e+6;if(18761==t.getShortAt(o))n=!1;else{if(19789!=t.getShortAt(o))return s&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getShortAt(o+2,n))return s&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=t.getLongAt(o+4,n))return s&&console.log("Not valid TIFF data! (First offset not 8)",t.getShortAt(o+4,n)),!1;var r=i(t,o,o+8,EXIF.TiffTags,n);if(r.ExifIFDPointer){var a=i(t,o,o+r.ExifIFDPointer,EXIF.Tags,n);for(var u in a){switch(u){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[u]=EXIF.StringValues[u][a[u]];
break;case"ExifVersion":case"FlashpixVersion":a[u]=String.fromCharCode(a[u][0],a[u][1],a[u][2],a[u][3]);break;case"ComponentsConfiguration":a[u]=EXIF.StringValues.Components[a[u][0]]+EXIF.StringValues.Components[a[u][1]]+EXIF.StringValues.Components[a[u][2]]+EXIF.StringValues.Components[a[u][3]]}r[u]=a[u]}}if(r.GPSInfoIFDPointer){var c=i(t,o,o+r.GPSInfoIFDPointer,EXIF.GPSTags,n);for(var u in c){switch(u){case"GPSVersionID":c[u]=c[u][0]+"."+c[u][1]+"."+c[u][2]+"."+c[u][3]}r[u]=c[u]}}return r}function u(){for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++)"true"==e[n].getAttribute("exif")&&(e[n].complete?EXIF.getData(e[n]):t(e[n],"load",function(){EXIF.getData(this)}))}var s=!1;EXIF.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},EXIF.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},EXIF.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},EXIF.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},EXIF.getData=function(t,o){return t.complete?(e(t)?o&&o():n(t,o),!0):!1},EXIF.getTag=function(t,n){return e(t)?t.exifdata[n]:void 0},EXIF.pretty=function(t){if(!e(t))return"";var n=t.exifdata,o="";for(var i in n)n.hasOwnProperty(i)&&(o+="object"==typeof n[i]?i+" : ["+n[i].length+" values]\r\n":i+" : "+n[i]+"\r\n");return o},EXIF.readFromBinaryFile=function(t){return o(t)},t(window,"load",u)}();var ImageInfo={};ImageInfo.useRange=!1,ImageInfo.range=10240,function(){function t(t,n){BinaryAjax(t,function(o){var i=e(o.binaryResponse),r=o.getResponseHeader("Content-Type");i.mimeType=r,i.byteSize=o.fileSize,a[t]=i,n&&n()},null,ImageInfo.useRange?[0,ImageInfo.range]:null)}function e(t){return 255==t.getByteAt(0)&&216==t.getByteAt(1)?i(t):137!=t.getByteAt(0)&&48!=t.getByteAt(0)||"PNG"!=t.getStringAt(1,3)?"GIF"==t.getStringAt(0,3)?o(t):66==t.getByteAt(0)&&77==t.getByteAt(1)?r(t):0==t.getByteAt(0)&&0==t.getByteAt(1)?readICOInfo(t):{format:"UNKNOWN"}:n(t)}function n(t){var e=t.getLongAt(16,!0),n=t.getLongAt(20,!0),o=t.getByteAt(24),i=t.getByteAt(25),r=o;4==i&&(r*=2),2==i&&(r*=3),6==i&&(r*=4);var a=t.getByteAt(25)>=4;return{format:"PNG",version:"",width:e,height:n,bpp:r,alpha:a,exif:{}}}function o(t){var e=t.getStringAt(3,3),n=t.getShortAt(6),o=t.getShortAt(8),i=(t.getByteAt(10)>>4&7)+1;return{format:"GIF",version:e,width:n,height:o,bpp:i,alpha:!1,exif:{}}}function i(t){for(var e=0,n=0,o=0,i=t.getLength(),r=2;i>r;){var a=t.getShortAt(r,!0);if(r+=2,65472==a){n=t.getShortAt(r+3,!0),e=t.getShortAt(r+5,!0),o=t.getByteAt(r+7,!0);break}r+=t.getShortAt(r,!0)}var u={};return"undefined"!=typeof EXIF&&EXIF.readFromBinaryFile&&(u=EXIF.readFromBinaryFile(t)),{format:"JPEG",version:"",width:e,height:n,bpp:8*o,alpha:!1,exif:u}}function r(t){var e=t.getLongAt(18),n=t.getLongAt(22),o=t.getShortAt(28);return{format:"BMP",version:"",width:e,height:n,bpp:o,alpha:!1,exif:{}}}var a=[];ImageInfo.loadInfo=function(e,n){a[e]?n&&n():t(e,n)},ImageInfo.getAllFields=function(t){if(!a[t])return null;var e={};for(var n in a[t])a[t].hasOwnProperty(n)&&(e[n]=a[t][n]);return e},ImageInfo.getField=function(t,e){return a[t]?a[t][e]:null}}(),global.DELETE=METHOD({run:function(t,e){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{uri:t},{method:"DELETE"}]),e)}}),FOR_BOX(function(t){"use strict";t.DELETE=METHOD({run:function(e,n){t.REQUEST(COMBINE([e,{method:"DELETE"}]),n)}})}),global.GET=METHOD({run:function(t,e){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{uri:t},{method:"GET"}]),e)}}),FOR_BOX(function(t){"use strict";t.GET=METHOD({run:function(e,n){t.REQUEST(COMBINE([e,{method:"GET"}]),n)}})}),global.POST=METHOD({run:function(t,e){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{uri:t},{method:"POST"}]),e)}}),FOR_BOX(function(t){"use strict";t.POST=METHOD({run:function(e,n){t.REQUEST(COMBINE([e,{method:"POST"}]),n)}})}),global.PUT=METHOD({run:function(t,e){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{uri:t},{method:"PUT"}]),e)}}),FOR_BOX(function(t){"use strict";t.PUT=METHOD({run:function(e,n){t.REQUEST(COMBINE([e,{method:"PUT"}]),n)}})}),global.REQUEST=METHOD({run:function(t,e){"use strict";var n,o,i,r,a=void 0===t.host?BROWSER_CONFIG.host:t.host,u=void 0===t.port?void 0===t.host?BROWSER_CONFIG.port:80:t.port,s=t.isSecure,c=t.method,d=t.uri,l=t.paramStr,f=t.data;c=c.toUpperCase(),void 0!==d&&-1!==d.indexOf("?")&&(l=d.substring(d.indexOf("?")+1)+(void 0===l?"":"&"+l),d=d.substring(0,d.indexOf("?"))),void 0!==f&&(l=(void 0===l?"":l+"&")+"__DATA="+encodeURIComponent(STRINGIFY(f))),l=(void 0===l?"":l+"&")+Date.now(),CHECK_IS_DATA(e)!==!0?n=e:(n=e.success,o=e.error),i=(s===!0?"https://":"http://")+a+":"+u+"/"+(void 0===d?"":"/"===d[0]?d.substring(1):d),r=new XMLHttpRequest,r.onreadystatechange=function(){var e;4===r.readyState&&(200===r.status?n(r.responseText):(e={code:r.status},void 0!==o?o(e):console.log("[UJS-REQUEST] REQUEST FAILED:",t,e)))},"GET"===c?(r.open(c,i+"?"+l),r.send()):(r.open(c,i),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(l))}}),FOR_BOX(function(t){"use strict";t.REQUEST=METHOD({run:function(e,n){REQUEST(COMBINE([e,{uri:t.boxName+"/"+e.uri}]),n)}})}),global.GO=METHOD(function(){"use strict";var t;return{run:function(e){void 0===t&&(t=!1,EVENT("keydown",function(e){17===e.getKeyCode()&&(t=!0)}),EVENT("keyup",function(e){17===e.getKeyCode()&&(t=!1)})),t===!0?(GO_NEW_WIN(e),t=!1):(history.pushState(void 0,void 0,HREF(e)),MATCH_VIEW.checkAll())}}}),FOR_BOX(function(t){"use strict";t.GO=METHOD({run:function(e){GO((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+e)}})}),global.GO_NEW_WIN=METHOD({run:function(t){"use strict";global.open(HREF(t))}}),FOR_BOX(function(t){"use strict";t.GO_NEW_WIN=METHOD({run:function(e){GO_NEW_WIN((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+e)}})}),global.HREF=METHOD({run:function(t){"use strict";return"/"+t}}),FOR_BOX(function(t){"use strict";t.HREF=METHOD({run:function(e){return HREF((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+(void 0===e?"":e))}})}),global.MATCH_VIEW=METHOD(function(t){"use strict";var e,n=[];return t.checkAll=e=function(){EACH(n,function(t){t()})},{run:function(t){var e,o,i=t.uri,r=t.excludeURI,a=t.target,u=URI_MATCHER(i),s=void 0===r?void 0:URI_MATCHER(r),c=function(){var t,n,i=URI();i===REFRESH.getRefreshingURI()||(t=u.check(i)).checkIsMatched()!==!0||void 0!==r&&s.check(i).checkIsMatched()===!0?void 0!==e&&(e.close(),e=void 0,a.lastView=void 0):(n=t.getURIParams(),void 0===e?(e=a(),e.changeParams(n),a.lastView=e,o=n):CHECK_ARE_SAME([o,n])!==!0&&(e.changeParams(n),o=n),e.runURIChangeHandlers(i))};n.push(c),EVENT("popstate",function(){c()}),c()}}}),FOR_BOX(function(t){"use strict";t.MATCH_VIEW=METHOD({run:function(e){var n=e.uri,o=e.excludeURI,i=e.target,r=[],a=[],u=function(e){t.boxName===CONFIG.defaultBoxName&&r.push(e),r.push(t.boxName+"/"+e)},s=function(e){t.boxName===CONFIG.defaultBoxName&&a.push(e),a.push(t.boxName+"/"+e)};CHECK_IS_ARRAY(n)===!0?EACH(n,u):u(n),void 0!==o&&(CHECK_IS_ARRAY(o)===!0?EACH(o,s):s(o)),MATCH_VIEW({uri:r,excludeURI:a,target:i})}})}),global.REFRESH=METHOD(function(t){"use strict";var e,n="__REFRESHING";return t.getRefreshingURI=e=function(){return n},{run:function(t){var e=void 0!==t?t:location.pathname.substring(1);history.pushState(void 0,void 0,"/"+n),MATCH_VIEW.checkAll(),history.replaceState(void 0,void 0,"/"+e),MATCH_VIEW.checkAll()}}}),FOR_BOX(function(t){"use strict";t.REFRESH=METHOD({run:function(e){REFRESH((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+(void 0===e?"":e))}})}),global.URI=METHOD({run:function(){"use strict";return decodeURIComponent(location.pathname.substring(1))}}),global.VIEW=CLASS({init:function(t,e){"use strict";var n,o,i,r,a,u,s,c=!1,d=[],l=[],f=[];t.on=i=function(t,e){"paramsChange"===t&&(d.push(e),void 0!==n&&e(n)),"uriChange"===t?(l.push(e),void 0!==o&&e(o)):"close"===t&&f.push(e)},e.changeParams=r=function(t){n=t,EACH(d,function(e){e(t)})},e.runURIChangeHandlers=a=function(t){o=t,EACH(l,function(e){e(t)})},e.close=u=function(){EACH(f,function(t){t()}),c=!0},t.checkIsClosed=s=function(){return c},scrollTo(0,0)}}),global.SCROLL_LEFT=METHOD({run:function(){"use strict";return global.pageXOffset}}),global.SCROLL_TOP=METHOD({run:function(){"use strict";return global.pageYOffset}}),global.TITLE=METHOD({run:function(t){"use strict";return void 0===t?document.title:void(document.title=t)}}),global.WIN_HEIGHT=METHOD({run:function(){"use strict";return document.documentElement.clientHeight}}),global.WIN_WIDTH=METHOD({run:function(){"use strict";return document.documentElement.clientWidth}});