FOR_BOX(function(e){"use strict";e.ROOM=CLASS({init:function(o,O,m){var r,n,R,t,E,a,N,_,i,C={};CHECK_IS_DATA(m)!==!0?n=e.boxName+"/"+m:(r=m.roomServerName,n=e.boxName+"/"+m.name),CONNECT_TO_ROOM_SERVER.enterRoom({roomServerName:r,roomName:n}),o.getRoomName=t=function(){return n},o.checkIsExited=E=function(){return R},O.on=a=function(e,o){var O=C[e];CONNECT_TO_ROOM_SERVER.on({roomServerName:r,methodName:n+"/"+e},o),void 0===O&&(O=C[e]=[]),O.push(o)},O.off=N=function(e,o){var O=C[e];void 0!==O&&(void 0!==o?(CONNECT_TO_ROOM_SERVER.off({roomServerName:r,methodName:n+"/"+e},o),REMOVE({array:O,value:o}),0===O.length&&delete C[e]):(EACH(O,function(o){CONNECT_TO_ROOM_SERVER.off({roomServerName:r,methodName:n+"/"+e},o)}),delete C[e]))},O.send=_=function(e,o){var O,m;CHECK_IS_DATA(e)!==!0?O=e:(O=e.methodName,m=e.data),R!==!0?CONNECT_TO_ROOM_SERVER.send({roomServerName:r,methodName:n+"/"+O,data:m},o):console.log("[UPPERCASE-ROOM] `ROOM.send` ERROR! ROOM EXITED!")},O.exit=i=function(){R!==!0&&(CONNECT_TO_ROOM_SERVER.exitRoom({roomServerName:r,roomName:n}),EACH(C,function(e,o){N(o)}),C=void 0,R=!0)}}})});